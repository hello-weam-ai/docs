---
title: "System Design"
description: "A breakdown of the architecture, flow, and tooling across Python, Node.js, and Next.js for the WEAM platform."
---

<Info>
  This guide covers our full-stack system design across backend, frontend, infrastructure, and AI integration layers.
</Info>

## üß† Python Backend Architecture

### ‚öôÔ∏è Core Application Stack

| Component           | Tool / Technology         |
|--------------------|---------------------------|
| Backend Framework  | FastAPI                   |
| Task Queue         | Celery                    |
| Broker             | Redis                     |
| DB                 | MongoDB                   |
| Auth               | JWT + Middleware          |
| Task Monitor       | Flower                    |
| Streaming Response | FastAPI `StreamingResponse` |

### ü§ñ AI & Vector Layer

| Component           | Stack                                  |
|--------------------|----------------------------------------|
| LLMs               | OpenAI, Gemini, Anthropic, HuggingFace |
| Embeddings         | LangChain, Gemini, OpenAI              |
| Vector DB          | Qdrant (Primary), Pinecone (Optional)  |
| Scraping / Parsing | Playwright, BeautifulSoup, Crawler4AI  |

### üîê Security Config

- API Key encryption using internal crypto module
- JWT tokens for access + refresh
- `.env` based configuration separation for local/dev/prod

### üß™ Testing & Debugging

| Tool             | Purpose                         |
|------------------|----------------------------------|
| Pytest           | Unit Testing                    |
| Locust           | Load Testing                    |
| WDB              | Visual Debugger (Web-based)     |
| Docker Override  | `docker-compose-test.yml` setup |

### üì¶ Infrastructure

| Tool / Layer       | Description                                |
|-------------------|--------------------------------------------|
| Docker            | Containerization of all services           |
| Docker Compose    | Multi-env support for dev/test/local       |
| GitHub Actions    | CI/CD pipeline (Optional: AWS CodePipeline)|
| Prometheus        | Metrics & Monitoring                       |
| Async Logger      | Custom logging library                     |

<Divider />

## üü© Node.js API System Design

### üß© Core Backend

| Component         | Tool / Library           |
|------------------|--------------------------|
| Web Server       | Express.js               |
| Task Queue       | Bull (via Redis)         |
| Job Scheduler    | Agenda                   |
| Auth             | JWT Middleware           |
| ORM              | Mongoose (MongoDB)       |
| Streaming        | Socket.IO                |

### üîí Security & Middleware

- Role-based Access Control via JWT
- Rate-limiting using `express-rate-limit`
- Encrypted API Keys + Custom middleware
- `.env` config via `dotenv`

### üß∞ Dev Tools

- Winston + Morgan loggers (`logger.js`, `morgan.js`)
- Debugging via Chrome DevTools or VSCode debugger
- Live reload via `nodemon`

### üîå Real-time & Storage

- Socket.IO for live chat + updates
- Redis Pub/Sub for socket scaling
- Email via SMTP
- MinIO / AWS S3 compatible file storage

<Divider />

## ‚öõÔ∏è Next.js Frontend System

### üé® Framework & UI Layer

| Component              | Tool Used                       |
|------------------------|----------------------------------|
| Frontend Framework     | Next.js (App Router)            |
| Type System            | TypeScript                      |
| Styling                | Tailwind CSS                    |
| State Management       | Redux Toolkit                   |
| Forms                  | Formik + Custom Inputs          |
| Routing                | Next.js File System Routing     |
| Auth                   | Firebase + IronSession + Custom |

### üß± Feature Modular Structure

| Module                | Path / Directory                              |
|----------------------|------------------------------------------------|
| Auth                 | `src/app/(auth)` + `src/actions/auth.ts`       |
| Chat + Threads       | `src/components/Chat` + `src/hooks/chat`       |
| Custom GPT           | `src/components/CustomGpt`                     |
| Workspace / Teams    | `src/components/Workspace`, `src/hooks/workspace` |
| File Uploads         | `src/components/FileUpload*` + `src/hooks/storage` |
| Reports              | `src/app/(page)/settings/reports`              |

### ü§ñ AI & Integration

- Modular API Clients (`/src/actions/`)
- Integrated LLM providers (OpenAI, Gemini, Anthropic)
- Vector search via Qdrant or Pinecone
- Asset serving via S3 or MinIO

<Note>
  All services are containerized and orchestrated via Docker Compose. Auth secrets, keys, and access configs are managed securely using `.env` and optional secret managers.
</Note>

## üîÅ API Request Lifecycle (Python)

```text
Client Request
  ‚Üì
[gateway/] ‚Üí Main entrypoint (FastAPI/Nginx)
  ‚Üì
[middleware/] ‚Üí Auth, Logging, Rate Limits
  ‚Üì
[schema/] ‚Üí Input/Output validation (Pydantic)
  ‚Üì
[router/] ‚Üí Endpoint routing (`/api/user` etc.)
  ‚Üì
[controller/] ‚Üí Request logic & response shaping
  ‚Üì
[service/] ‚Üí Business logic, API calls
  ‚Üì
[models/] ‚Üí DB interaction (MongoDB)
  ‚Üì
[exceptions/] ‚Üí Graceful error handling
  ‚Üì
[utils/] ‚Üí Shared helper methods
  ‚Üì
Response ‚Üí JSON or Streaming back to client
```

<Info>
For frontend architecture and real-time features, follow a similar modular decomposition in Next.js, using `src/components`, `src/hooks`, and `src/app` for app router-based structure.
</Info>
